<?xml version = '1.0' encoding = 'UTF-8'?>
<struts-config>
	<form-beans>
		<form-bean name="dynamicForm" type="com.cnpc.jcdp.mvc.action.DynaActionForm" />
	</form-beans>
	<action-mappings>
		<!-- 单项目 -->
		<!-- gms上传文档到ucm-->
		<action path="/doc/uploadFile" type="com.cnpc.jcdp.mvc.action.WSAction"
			scope="request" name="dynamicForm">
			<serviceCall serviceName="ucmSrvNew" operationName="uploadFileNew"/>
			<forward name="success" path="/doc/singleproject/close_page.jsp" redirect="false" />
		</action>
		<!-- 通过ucmid查看txt文件-->
		<action path="/doc/viewTxtFileByUcmId" type="com.bgp.mcs.web.doc.action.ViewTxtFileAction">
			<serviceCall serviceName="ucmSrv" operationName="viewTxtFileByUcmId" />
			<forward name="success" path="" />
		</action>
		
		<!-- 通过fileid查看txt文件-->
		<action path="/doc/viewTxtFileByFileId" type="com.bgp.mcs.web.doc.action.ViewTxtFileAction">
			<serviceCall serviceName="ucmSrv" operationName="viewTxtFileByFileId" />
			<forward name="success" path="" />
		</action>
		
		<!-- 下载文档-->
		<action path="/doc/downloadDoc" type="com.bgp.mcs.web.doc.action.DownloadFileAction">
			<serviceCall serviceName="ucmSrv" operationName="downloadDoc" />
			<forward name="success" path="" />
		</action>
		
		<!-- 通过ucm编号下载文档-->
		<action path="/doc/downloadDocByUcmId" type="com.bgp.mcs.web.doc.action.DownloadFileAction">
			<serviceCall serviceName="ucmSrv" operationName="downloadDocByUcmId" />
			<forward name="success" path="" />
		</action>

		<!-- 获取GMS文件夹中包含的文档 -->
		<action path="/doc/getDocsInFolder" type="com.cnpc.jcdp.mvc.action.WSAction">
			<serviceCall serviceName="ucmSrv" operationName="getDocsInFolder" />
			<forward name="success" path="/doc/singleproject/doc_list2.jsp" />
		</action>
		<!-- 删除GMS文件夹中的文档 -->
		<action path="/doc/deleteFileByUcmId" type="com.cnpc.jcdp.mvc.action.WSAction">
			<serviceCall serviceName="ucmSrv" operationName="deleteFileByUcmId" />
			<forward name="success" path="" />
		</action>
		
		<!-- 通过ucm编号删除文档 -->
		<action path="/doc/delDocInFolder" type="com.cnpc.jcdp.mvc.action.WSAction">
			<serviceCall serviceName="ucmSrv" operationName="deleteFile" />
			<forward name="success" path="/doc/singleproject/doc_list2.jsp" />
		</action>
		
		<!-- 查看GMS中某个文档的详细信息 -->
		<action path="/doc/getDocInfo" type="com.cnpc.jcdp.mvc.action.WSAction">
			<serviceCall serviceName="ucmSrv" operationName="getDocInfo" />
			<forward name="success" path="/doc/singleproject/comm_doc_info.jsp" />
		</action>
		
		<!-- 多项目 -->
		<!-- gms上传文档到ucm-->
		<action path="/doc/uploadFileEps" type="com.cnpc.jcdp.mvc.action.WSAction"
			scope="request" name="dynamicForm">
			<serviceCall serviceName="ucmSrvNew" operationName="uploadFileNew"/>
			<forward name="success" path="/doc/multiproject/close_page_eps.jsp" redirect="false" />
		</action>
		<!-- 下载文档-->
		<action path="/doc/downloadDocEps" type="com.bgp.mcs.web.doc.action.DownloadFileAction">
			<serviceCall serviceName="ucmSrv" operationName="downloadDoc" />
			<forward name="success" path="" />
		</action>

		<!-- 获取GMS文件夹中包含的文档 -->
		<action path="/doc/getDocsInFolderEps" type="com.cnpc.jcdp.mvc.action.WSAction">
			<serviceCall serviceName="ucmSrv" operationName="getDocsInFolder" />
			<forward name="success" path="/doc/multiproject/doc_list_eps.jsp" />
		</action>
		<!-- 删除GMS文件夹中的文档 -->
		<action path="/doc/delDocInFolderEps" type="com.cnpc.jcdp.mvc.action.WSAction">
			<serviceCall serviceName="ucmSrv" operationName="deleteFile" />
			<forward name="success" path="/doc/multiproject/doc_list_eps.jsp" />
		</action>
		<!-- 查看GMS中某个文档的详细信息 -->
		<action path="/doc/getDocInfoEps" type="com.cnpc.jcdp.mvc.action.WSAction">
			<serviceCall serviceName="ucmSrv" operationName="getDocInfo" />
			<forward name="success" path="/doc/multiproject/comm_doc_info_eps.jsp" />
		</action>
		<!-- 文档公共 -->
		<!-- 上传文档 -->
		<action path="/doc/uploadFileCommon" type="com.cnpc.jcdp.mvc.action.WSAction"
			scope="request" name="dynamicForm">
			<serviceCall serviceName="ucmSrvNew" operationName="uploadFileNew"/>
			<forward name="success" path="/doc/multiproject/common_close_page_eps.jsp" />
		</action>
		<!-- 获取某个记录中的所有附件 -->
		<action path="/doc/getAttachmentList" type="com.cnpc.jcdp.mvc.action.WSAction">
			<serviceCall serviceName="ucmSrv" operationName="getAttachmentList"/>
			<forward name="success" path="/doc/common/common_doc_list.jsp" />
		</action>
		<!-- 查询某个记录中的所有附件 -->
		<action path="/doc/queryAttachmentList" type="com.cnpc.jcdp.mvc.action.WSAction">
			<serviceCall serviceName="ucmSrv" operationName="getAttachmentList"/>
			<forward name="success" path="/doc/common/common_doc_list.jsp" />
		</action>
		<!-- 文档日志 -->
		<!-- 获取文档日志列表 -->
		<action path="/doc/getDocLog" type="com.cnpc.jcdp.mvc.action.WSAction">
			<serviceCall serviceName="ucmSrv" operationName="getDocLogList"/>
			<forward name="success" path="/doc/log/docLog.jsp" />
		</action>	
		<!-- 在线查看文档 -->
		<!-- 获取文档的存储路径 -->
		<action path="/doc/getDocUrl" type="com.cnpc.jcdp.mvc.action.WSAction">
			<serviceCall serviceName="ucmSrv" operationName="getDocUrl"/>
			<forward name="success" path="/doc/singleproject/doc_list2.jsp" />
		</action>
		
		<!-- 获取要修改的文档信息 -->
		<action path="/doc/getEditDocInfo" type="com.cnpc.jcdp.mvc.action.WSAction">
			<serviceCall serviceName="ucmSrv" operationName="getEditDocInfo"/>
			<forward name="success" path="/doc/singleproject/edit_doc.jsp" />
		</action>	
		
		<!-- 上传新版本的文档 ,更新文档版本-->
		<action path="/doc/uploadNewVersionFile" type="com.cnpc.jcdp.mvc.action.WSAction" 
		scope="request" name="dynamicForm">
			<serviceCall serviceName="ucmSrvNew" operationName="uploadNewVersionFileNew"/>
			<forward name="success" path="/doc/singleproject/close_page.jsp" redirect="false"/>
		</action>
		
		<!-- 单项目上传新版本的附件-->
		<action path="/doc/uploadNewVersionAttach" type="com.cnpc.jcdp.mvc.action.WSAction" 
		scope="request" name="dynamicForm">
			<serviceCall serviceName="ucmSrvNew" operationName="uploadNewVersionFileNew"/>
			<forward name="success" path="/doc/singleproject/attach_close_page.jsp" redirect="false"/>
		</action>
		
		<!-- 多项目上传新版本的附件-->
		<action path="/doc/uploadNewVersionAttachEps" type="com.cnpc.jcdp.mvc.action.WSAction" 
		scope="request" name="dynamicForm">
			<serviceCall serviceName="ucmSrvNew" operationName="uploadNewVersionFileNew"/>
			<forward name="success" path="/doc/multiproject/attach_close_page_eps.jsp" redirect="false"/>
		</action>
		
		<!-- 单项目 检查项目是否存在 -->
		<action path="/doc/checkProjectExist" type="com.cnpc.jcdp.mvc.action.WSAction">
			<serviceCall serviceName="ucmSrv" operationName="checkProjectExist"/>
			<forward name="success" path="/doc/singleproject/folder_list.jsp"/>
		</action>
		
		<!-- 多项目 检查根节点BGP是否存在 -->
		<action path="/doc/checkBGPExist" type="com.cnpc.jcdp.mvc.action.WSAction">
			<serviceCall serviceName="ucmSrv" operationName="checkBGPExist"/>
			<forward name="success" path="/doc/multiproject/folder_list_eps.jsp"/>
		</action>
		
		<!-- 单项目 给模块分配目录 -->
		<action path="/doc/setMenuFolder" type="com.cnpc.jcdp.mvc.action.WSAction">
			<serviceCall serviceName="ucmSrv" operationName="setMenuFolder"/>
			<forward name="success" path="/doc/singleproject/folder_module_menu.jsp"/>
		</action>
		
		<!-- 单项目 取消已经给模块分配的目录 -->
		<action path="/doc/deleteModuleAndFolder" type="com.cnpc.jcdp.mvc.action.WSAction">
			<serviceCall serviceName="ucmSrv" operationName="deleteModuleAndFolder"/>
			<forward name="success" path="/doc/singleproject/checkbox_folder_tree.jsp"/>
		</action>
		
		<!-- 单项目 重新给模块分配的目录 -->
		<action path="/doc/setNewMenuFolder" type="com.cnpc.jcdp.mvc.action.WSAction">
			<serviceCall serviceName="ucmSrv" operationName="setNewMenuFolder"/>
			<forward name="success" path="/doc/singleproject/checkbox_folder_tree.jsp"/>
		</action>
		
		<!-- 设置——设置文档的编号样式 -->
		<action path="/doc/saveNumberFormat" type="com.cnpc.jcdp.mvc.action.WSAction">
			<serviceCall serviceName="ucmSrv" operationName="saveNumberFormat"/>
			<forward name="success" path="/doc/filenumber/file_number_close.jsp"/>
		</action>
		
		<!-- 设置——删除文档的编号样式 -->
		<action path="/doc/deleteFileNumber" type="com.cnpc.jcdp.mvc.action.WSAction">
			<serviceCall serviceName="ucmSrv" operationName="deleteFileNumber"/>
			<forward name="success" path="/doc/filenumber/file_number_list.jsp"/>
		</action>
		
		<!-- 设置——获取某个编号样式的详细信息 -->
		<action path="/doc/getFileNumberInfo" type="com.cnpc.jcdp.mvc.action.WSAction">
			<serviceCall serviceName="ucmSrv" operationName="getFileNumberInfo"/>
			<forward name="success" path="/doc/filenumber/file_number_list.jsp"/>
		</action>
		
		<!-- 设置——给目录分配新的编号格式 -->
		<action path="/doc/setNewNumberFormat" type="com.cnpc.jcdp.mvc.action.WSAction">
			<serviceCall serviceName="ucmSrv" operationName="setNewNumberFormat"/>
			<forward name="success" path="/doc/filenumber/setnumber_close_page.jsp"/>
		</action>
		
		<!-- 设置——获取所有的模板列表 -->
		<action path="/doc/getFolderTemplate" type="com.cnpc.jcdp.mvc.action.WSAction">
			<serviceCall serviceName="ucmSrv" operationName="getFolderTemplate"/>
			<forward name="success" path="/doc/foldertemplate/folder_template_list.jsp"/>
		</action>
		
		<!-- 设置——获取某一模板的详细信息 -->
		<action path="/doc/getTemplateInfo" type="com.cnpc.jcdp.mvc.action.WSAction">
			<serviceCall serviceName="ucmSrv" operationName="getTemplateInfo"/>
			<forward name="success" path="/doc/foldertemplate/folder_template_list.jsp"/>
		</action>
		
		<!-- 设置——删除模板 -->
		<action path="/doc/delteTemplate" type="com.cnpc.jcdp.mvc.action.WSAction">
			<serviceCall serviceName="ucmSrv" operationName="delteTemplate"/>
			<forward name="success" path="/doc/foldertemplate/template_close_page.jsp"/>
		</action>
		
		<!-- 设置——新增模板 -->
		<action path="/doc/addTemplate" type="com.cnpc.jcdp.mvc.action.WSAction">
			<serviceCall serviceName="ucmSrv" operationName="addTemplate"/>
			<forward name="success" path="/doc/foldertemplate/template_close_page.jsp"/>
		</action>
		
		<!-- 设置——修改模板信息 -->
		<action path="/doc/editTemplateInfo" type="com.cnpc.jcdp.mvc.action.WSAction">
			<serviceCall serviceName="ucmSrv" operationName="editTemplateInfo"/>
			<forward name="success" path="/doc/foldertemplate/template_close_page.jsp"/>
		</action>
		
		<!-- 单项目文档回收站——获取某一文件夹中已删除的文档列表 -->
		<action path="/doc/getDeletedDocsInFolder" type="com.cnpc.jcdp.mvc.action.WSAction">
			<serviceCall serviceName="ucmSrv" operationName="getDeletedDocsInFolder"/>
			<forward name="success" path="/doc/singleproject/deletedfile/deleted_file_list.jsp"/>
		</action>
		
		<action path="/doc/getDocChart" type="com.bgp.mcs.web.pm.gmsChart.action.querySeriesXMLDataAction">
			<serviceCall serviceName="ucmSrv" operationName="getDocChart" />
			<forward name="success" path="/doc/singleproject/doc_statistics.jsp" />
		</action>
		
		<!-- 单项目文档回收站——还原已删除的文档 -->
		<action path="/doc/restoreDeletedFile" type="com.cnpc.jcdp.mvc.action.WSAction">
			<serviceCall serviceName="ucmSrv" operationName="restoreDeletedFile"/>
			<forward name="success" path="/doc/singleproject/deletedfile/deleted_file_list.jsp"/>
		</action>
		
		<!-- 单项目文档回收站——彻底删除文档 -->
		<action path="/doc/deleteFileCompletely" type="com.cnpc.jcdp.mvc.action.WSAction">
			<serviceCall serviceName="ucmSrv" operationName="deleteFileCompletely"/>
			<forward name="success" path="/doc/singleproject/deletedfile/deleted_file_list.jsp"/>
		</action>
		
		<!-- 单项目文档回收站——下载文档 -->
		<action path="/doc/downloadDelDoc" type="com.bgp.mcs.web.doc.action.DownloadFileAction">
			<serviceCall serviceName="ucmSrv" operationName="downloadDeletedDoc" />
			<forward name="success" path="" />
		</action>
		
		<!-- 单项目文档回收站——通过ucmid下载文档 -->
		<action path="/doc/downloadDeletedDocByUcmId" type="com.bgp.mcs.web.doc.action.DownloadFileAction">
			<serviceCall serviceName="ucmSrv" operationName="downloadDeletedDocByUcmId" />
			<forward name="success" path="" />
		</action>
		
		<!-- 设置——综合文档查询 -->
		<action path="/doc/complexFileSearch" type="com.cnpc.jcdp.mvc.action.WSAction">
			<serviceCall serviceName="ucmSrv" operationName="complexFileSearch"/>
			<forward name="success" path="/doc/filesearch/complex_file_search.jsp"/>
		</action>
		
		<!-- 单项目——为某个项目设置模板 -->
		<action path="/doc/setTemplate" type="com.cnpc.jcdp.mvc.action.WSAction">
			<serviceCall serviceName="ucmSrv" operationName="setTemplate"/>
			<forward name="success" path="/doc/foldertemplate/settemplate_close_page.jsp"/>
		</action>
		
		<!-- 创建完整的目录文档结构 -->
		<action path="/doc/createProjectFolder" type="com.cnpc.jcdp.mvc.action.WSAction">
			<serviceCall serviceName="ucmSrv" operationName="createProjectFolder" />
			<forward name="success" path="" />
		</action>
		
		<!-- 检查文档缩写是否重复 -->
		<action path="/doc/checkFolderAbbr" type="com.cnpc.jcdp.mvc.action.WSAction">
			<serviceCall serviceName="ucmSrv" operationName="checkFolderAbbr" />
			<forward name="success" path="" />
		</action>
		
		<!-- 创建项目文档结构(新) -->
		<action path="/doc/createProjectFolderNew" type="com.cnpc.jcdp.mvc.action.WSAction">
			<serviceCall serviceName="ucmSrv" operationName="createProjectFolderNew"/>
			<forward name="success" path=""/>
		</action>
		
		<!-- 新的文档上传,从本地服务器上传 -->
		<action path="/doc/uploadFileNew" type="com.cnpc.jcdp.mvc.action.WSAction">
			<serviceCall serviceName="ucmSrvNew" operationName="uploadFileNew"/>
			<forward name="success" path="/doc/multiproject/close_page_eps.jsp" redirect="false" />
		</action>
	<!-- 公用文档上传 -->
	    <action path="/doc/commonSaveOrUpdateFile" type="com.cnpc.jcdp.mvc.action.jcdp.WSUploadAction" scope="request" name="dynamicForm">
				<serviceCall serviceName="ucmSrvNew" operationName="commonSaveOrUpdateFile" />
				<forward name="success" path="/common/commonFile/commonFilePage.jsp" />
		</action>	

<!-- 测试服务 -->
      <!--  <action path="/whj/test" type="com.cnpc.jcdp.mvc.action.WSAction">
			<serviceCall serviceName="GmsService" operationName="saveClassTest"/>
		 </action> -->

	</action-mappings>
</struts-config>
